// android/build.gradle — 專案層只保留需要的外掛 classpath，避免和 settings 的版本互踩
buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        // 不再放 com.android.tools.build:gradle / kotlin-gradle-plugin
        classpath 'com.google.gms:google-services:4.4.2'
        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.9' // 若未用 Crashlytics 可移除
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.buildDir = '../build'
subprojects { project.buildDir = "${rootProject.buildDir}/${project.name}" }
// ⛔ 別再有：subprojects { project.evaluationDependsOn(':app') }

tasks.register("clean", Delete) { delete rootProject.buildDir }
